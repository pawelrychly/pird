
\documentclass{article} 
\usepackage{polski} %moze wymagac dokonfigurowania latexa, ale jest lepszy ni¿ standardowy babel'owy [polish] 
\usepackage[cp1250]{inputenc} 
\usepackage[OT4]{fontenc} 
\usepackage{float}
\usepackage{graphicx,color} %include pdf's (and png's for raster graphics... avoid raster graphics!) 
\usepackage{url} 
\usepackage{subfigure}
\usepackage{listings}
\usepackage[pdftex,hyperfootnotes=false,pdfborder={0 0 0}]{hyperref} %za wszystkimi pakietami; pdfborder nie wszedzie tak samo zaimplementowane bo specyfikacja nieprecyzyjna; pod miktex'em po prostu nie widac wtedy ramek


\input{_ustawienia.tex}

\title{Opis projektu:\\Przetwarzanie i Rozpoznawanie DŸwiêku}
\author{Pawe³ Rych³y}
\date{}


\begin{document}

\input{_tytulowa}



\section{Wstêp teoretyczny}

Problem klasyfikacji gatunku muzyki mo¿na sprowadziæ do problemu uczenia maszynowego na odpowiednio przetworzonych danych bêd¹cych próbkami dŸwiêkowymi okreœlonej d³ugoœci. Przetworzenie w tym przypadku polega na takiej transformacji utworów do pewnej przestrzeni wspó³czynników, ¿e mo¿liwe jest trafne klasyfikowanie nowo przyby³ych obiektów w oparciu o zgromadzon¹ wiedzê. W naszym projekcie jako Ÿród³a danych u¿yliœmy paczki ze strony Marsyas ( GTZAN genre collection ). Zbiór ten to ponad 1GB danych, podzielonych na 1000 plików, po 30 sekund ka¿dy. Pliki te zaklasyfikowane s¹ do 10 kategorii: Muzyka klasyczna, Blues, HipHop, Rock, Metal, Disco, Pop, Country, Jazz, Reggae - i dziel¹ zbiór danych na równe segmenty po 100 na ka¿d¹ kategoriê.

Jako biblioteki pomocniczej u¿yjemy w tym przypadku projektu Essentia przygotowanego przez Uniwersytet Pompeu-Fabra w Barcelonie do celów ekstrakcji danych oraz pakietu WEKA pomocnej przy klasyfikacji. 


Zalet¹ korzystania z tego zbioru danych jest relatywnie wysoka d³ugoœæ próbek ( 30 sekund ) oraz to, ¿e istniej¹ publikacje analizuj¹ce t¹ paczkê, przez co mo¿emy odwo³aæ siê do wyników innych osób.

 http://dspace.library.uvic.ca:8080/bitstream/handle/1828/1344/tsap02gtzan.pdf?sequence=1 - pod tym adresem znaleŸæ mo¿na pracê, gdzie analizuj¹cym uda³o siê uzyskaæ precyzjê oraz pokrycie na œrednim poziomie ok 60% i taki te¿ jest nasz cel. 

\section{Przygotowanie danych}

Wszystkie pliki muzyczne zakodowane s¹ w formacie Au zaproponowanym przez firmê Sun. Biblioteka Essentia umo¿liwia nam wyci¹gniêcie informacji o poszczególnych próbkach z takiego pliku bez zag³êbiania siê w strukturê formatu co jest bardzo du¿ym u³atwieniem. Maj¹c wczytany plik muzyczny nale¿y wybraæ pewien wektor cech, które mo¿liwie dobrze bêd¹ reprezentowaæ nasz problem i bêd¹ u¿yteczne z punktu widzenia klasyfikacji. Okazuje siê, ¿e bardzo dobrym punktem wyjœcia do problemu s¹ wspó³czynniki melowe ( MFCC )


\section{Analiza zmian wartoœci wspó³czynników cepstralnych w czasie.}
W celu dobrania najbardziej odpowiednich metod agregacji danych opisuj¹cych poszczególne próbki dŸwiêku, wygenerowano zbiór wykresów prezentuj¹cych zmiany wartoœci wspó³czynników cepstralnych w kolejnych próbkach.

\begin{figure}[H]
\centering
\subfigure[blues]{%
  \includegraphics[width=.45\linewidth]{pics/all/blues.png}
\label{fig:subfigure1}
}
\quad
\subfigure[classical]{%
  \includegraphics[width=.45\linewidth]{pics/all/classical.png}
\label{fig:subfigure1}
}
\quad
\subfigure[country]{%
  \includegraphics[width=.45\linewidth]{pics/all/country.png}
\label{fig:subfigure2}
}
\quad
\subfigure[disco]{%
  \includegraphics[width=.45\linewidth]{pics/all/disco.png}
\label{fig:subfigure2}
}
\quad
\subfigure[hiphop]{%
  \includegraphics[width=.45\linewidth]{pics/all/hiphop.png}
\label{fig:subfigure2}
}
\quad
\subfigure[jazz]{%
  \includegraphics[width=.45\linewidth]{pics/all/jazz.png}
\label{fig:subfigure2}
}
\quad

%
\caption{Porównanie zmian wartoœci wspó³czynników cepstralnych dla przyk³adowych plików reprezentuj¹cych ró¿ne gatunki muzyczne. }
\label{fig:standarderror}
\end{figure} 

\begin{figure}[H]
\centering

\subfigure[metal]{%
  \includegraphics[width=.45\linewidth]{pics/all/metal.png}
\label{fig:subfigure2}
}
\quad
\subfigure[pop]{%
  \includegraphics[width=.45\linewidth]{pics/all/pop.png}
\label{fig:subfigure2}
}
\quad
\subfigure[reggae]{%
  \includegraphics[width=.45\linewidth]{pics/all/reggae.png}
\label{fig:subfigure2}
}
\quad
\subfigure[rock]{%
  \includegraphics[width=.45\linewidth]{pics/all/rock.png}
\label{fig:subfigure2}
}
\quad
%

\caption{Porównanie zmian wartoœci wspó³czynników cepstralnych dla przyk³adowych plików reprezentuj¹cych ró¿ne gatunki muzyczne. }
\label{fig:standarderror}
\end{figure} 


Jak mo¿na zauwa¿yæ, kszta³ty wykresów ilustruj¹cych zmiany wspó³czynników cepstralnych, dla ró¿nych gatunków muzycznych ró¿ni¹ siê pomiêdzy sob¹. Wydaje siê, ¿e miara agreguj¹ca te dane, powinna odzwierciedlaæ w maksymalnym stopniu, nie tyle œrednie wartoœci funkcji co ich kszta³t. Bardzo charakterystyczny jest wykres bêd¹cy wynikiem analizy utworu muzyki klasycznej. Wartoœci wspó³czynników cepstralnych zmiania³y siê tutaj w sposób zdecydowanie bardziej ³agodny ni¿ w przypadku innych wykresów.  

\section{Metody agregacji danych dotycz¹cych wspó³czynników cepstralnych.}

W celu agregacji danych pochodz¹cych z ró¿nych okien zastosowano kilka miar. By³y to takie podstawowe miary jak: wartoœæ minimalna, wartoœæ maksymalna, wariancja oraz œrednia arytmetyczna. Ich znaczenie jest oczywiste, dlatego w dalszej czêœci zawarto opis trzech mniej popularnych ocen sygna³u. Dwie pierwsze metody wykorzystuj¹ Dyskretn¹ transformatê Fouriera sygna³u, oznaczan¹ liter¹ F.  

\subsection{Spectral Flatness Measure}
Miara ta opisuje jak bardzo analizowany sygna³ zbli¿ony jest do szumu bia³ego. Je¿eli wartoœæ wspó³czynnika jest du¿a, oznacza to, ¿e wartoœæ analizowanego sygna³u (w tym przypadku wartoœæ wspó³czynnika cepstralnego)
nie zmienia siê lub, ¿e zmienia siê w sposób nieregularny. Ma³a wartoœæ miary mówi o tym, ¿e zmiany wartoœci wspó³czynników cepstralnych mog³yby zostaæ opisane za pomoc¹ kilku sinusoid. 
	\begin{equation}
   sfm = \frac{e^{\overline{ln(F)}}}{\overline{F}}  
   \end{equation} 


\subsection{The most significant  frequency}
Miara ta zawiera informacje o czêstotliwoœci sinusoidy, która ma najwiêkszy wp³yw na kszta³t funkcji wykreœlanej przez zmianê wspó³czynnika cepstralnego w czasie. 
\begin{equation}
    f_{max}= argmax(F)  
\end{equation} 

\subsection{Maksymalna korelacja sygna³u z w³asnym przesuniêciem. }
Ostatnia zastosowana miara, okreœla maksymaln¹ korelacjê sygna³u (Kolejnych wartoœci wspó³czynnika cepstralnego), z w³asnym przesuniêciem.  


\section{Wyniki}

Uczenie maszynowe przeprowadzono z u¿yciem Baggingu oraz RandomForests ( 100 drzew )

Przeprowadzona analiza doprowadzi³a do otrzymania nastêpuj¹cych wyników 

\subsection{Wyniki corssvalidacyjne}
\begin{figure}[H]
\begin{center}
\includegraphics[width=1.0\textwidth]{/pics/weka/cv_overall.png}
\end{center}
\caption{Podsumowanie klasyfikacji}
\label{fig-schemat2}
\end{figure}
\begin{figure}[H]
\begin{center}
\includegraphics[width=1.0\textwidth]{/pics/weka/cv_confusion.png}
\end{center}
\caption{Macierz pomy³ek}
\label{fig-schemat2}
\end{figure}

\subsection{Wyniki z wydzielonym zbiorem testowym}
Zbiór testowy równy 10% ca³ej przestrzeni, zrównowa¿one klasy.
\begin{figure}[H]
\begin{center}
\includegraphics[width=1.0\textwidth]{/pics/weka/10pr_overall.png}
\end{center}
\caption{Podsumowanie klasyfikacji}
\label{fig-schemat3}
\end{figure}
\begin{figure}[H]
\begin{center}
\includegraphics[width=1.0\textwidth]{/pics/weka/10pr_confusion.png}
\end{center}
\caption{Macierz pomy³ek}
\label{fig-schemat4}
\end{figure}

\section{Wnioski}
Widzimy zatem, ¿e u¿ycie najprostszych metod jakimi s¹ wspó³czynniki cepstralne przynosi bardzo dobre rezultaty ( przebijaj¹ce nawet te, które uzyskali poprzednicy stosuj¹c GMMy ). Patrz¹c na zró¿nicowanie w jakiœci wykrywania klas mo¿na dostrzec, ¿e gatunki "gitarowe" takie jak Blues, Rock, Metal, Country s¹ czêsto mylone - pomys³em na jeszcze wiêksze polepszenie wyników mo¿e byæ ekstrakcja informacji o œredniej g³oœnoœci utworu [ metalowe piosenki powinny byæ g³oœniejsze ni¿ bluesowe ]. 



%%%%%%%%%%%%%%%% literatura %%%%%%%%%%%%%%%%

\bibliography{sprawozd}
\bibliographystyle{plain}


\end{document}

